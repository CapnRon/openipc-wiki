# 君正T31应用层开发1 如何编译sample

## 君正T31应用层开发1如何编译sample

原创

**发布于** **2023-03-18 17:46:27**

**703**0

**举报**

# 君正T31开发应用层篇

## 1.什么是君正T31应用层开发？

指的是依托君正T31芯片平台的资源，利用君正linux系统提供的API进行操作硬件的过程。

为什么先讲君正T31应用层开发，而不是先讲解，uboot,kernel,根文件系统，以及文件系统？

**因为大部分人去到企业并不会直接从事这些工作，而且这些工作和应用层工作严格意义是分开的，相对而言比较难，很容易打击初学者的信心，所以这部分我会留到最后讲解，目前，大家只需要用系统自带的文件系统进行开发即可。**

## **2.搭建君正T31开发环境**

### **2.1.为什么我们需要搭建T31的开发环境？**

由于嵌入式单板的资源有限，不能在单板上运行开发和调试工具，通常需要交叉编译调试的方式进行开发和调试，即“[宿主机](https://cloud.tencent.com/product/cdh?from_column=20065&from=20065)＋目标机”的形式。宿主机和目标机一般 采用串口连接显示交互信息，网口连接传输文件。

但宿主机和目标机的处理器一般不相同。宿主机需要建立适合于目标机的交叉编译环境。程序在宿主机上经过“编译－连接－定位”得到可执行文件。通过一定的方法将可执行文件烧写到目标机中，然后在目标机上运行。

**简单的话就是嵌入式设备的资源都有限，内存，flash等等，我们无法直接在嵌入式设备上进行程序的编译。**

### **2.2.安装交叉编译工具链。**

从SDK包中获取我们的交叉编译工具链mips-gcc472-glibc216-64bit-r2.3.3.7z

Ubuntu16.04虚拟机安装流程：

第一步：安装 7z 解压工具$ sudo apt-get install p7zip

第二步：使用上述软件7z进行解压7z x mips-gcc472-glibc216-64bit.7z

可以清晰的看到解压的交叉编译工具链的位置。

​![](pix/net-img-91d27175490a4cebe8735b15da177ace-20230919120019-zalyxs9.png)​

第三步：通过 export PATH=xxxx:$PATH 命令，将 toolchain 下的 bin 目录添加到 PATH 环境变量中或者在~/.bashrc 中加上下面一句永久改变。

把你安装的交叉编译工具链的绝对路径用pwd指令显示出来，然后添加到.bashrc文件里面，这样虚拟机都会在每次起来的时候，执行你的条件，然后让你的交叉编译工具链生效。

​![](pix/net-img-41a09d1403a560554920a66bdf31d51f-20230919120019-goujsd8.png)​

第四步：检测交叉编译工具链是否安装成功

​![](pix/net-img-e781a1b8437a3f5b7c79aa50550168eb-20230919120019-227zcuw.png)​

### 3.编译君正T31sample文件

从君正原厂获取SDK文件：ISVP-T31-1.1.5-20220428.7z

使用7z的解压指令解压，进去SDK里面进行编译。我们进去我们存放SDK的目录里面\ingentic\ISVP-T31-1.1.5-20220428\software\sdk\Ingenic-SDK-T31-1.1.5-20220506\sdk\4.7.2\samples\libimp-samples

​![](pix/net-img-6c0747720e0207a69f2590ab821eb3f7-20230919120019-3fezaka.png)​

直接执行make指令即可。

可以查看到重新编译以后，青色的应用程序的时间已经变化了，证明我们编译成功了。

​![](pix/net-img-f6ea8dff04c67a653c1a402a1bda1c81-20230919120020-f6o1gkv.png)​

原创声明：本文系作者授权腾讯云开发者社区发表，未经许可，不得转载。

如有侵权，请联系 [cloudcommunity@tencent.com](mailto:cloudcommunity@tencent.com) 删除。
